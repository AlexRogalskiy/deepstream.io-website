{"componentChunkName":"component---src-templates-info-tsx","path":"/info/performance/single-node-vs-cluster/","webpackCompilationHash":"0f3352f8274dbe1392d8","result":{"data":{"markdownRemark":{"html":"<h3 id=\"test-setup\"><a href=\"#test-setup\" aria-label=\"test setup permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Test Setup</h3>\n<p>All tests were run on Amazon Web Services EC2 instances within the same region, running AWS Linux. For the cluster tests, Redis was used as a message bus.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Single Node</th>\n<th>Cluster</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>machine for deepstream servers</td>\n<td>1 EC2 c4.large</td>\n<td>1 EC2 c4.2xlarge</td>\n<td></td>\n</tr>\n<tr>\n<td>deepstream servers</td>\n<td>1</td>\n<td>3</td>\n<td></td>\n</tr>\n<tr>\n<td>client pairs</td>\n<td>250</td>\n<td>750</td>\n<td></td>\n</tr>\n<tr>\n<td>ec2 t2.micro instances clients were distributed across</td>\n<td>2</td>\n<td>6</td>\n<td></td>\n</tr>\n<tr>\n<td>message frequency per client</td>\n<td>~25ms</td>\n<td>~25ms</td>\n<td></td>\n</tr>\n<tr>\n<td>duration of full load</td>\n<td>~3 min</td>\n<td>~12 min</td>\n<td></td>\n</tr>\n<tr>\n<td>messages per second</td>\n<td>~10,000</td>\n<td>~30,000</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"single-deepstream-node\"><a href=\"#single-deepstream-node\" aria-label=\"single deepstream node permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Single deepstream Node</h2>\n<h4 id=\"latency-distribution\"><a href=\"#latency-distribution\" aria-label=\"latency distribution permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Latency Distribution</h4>\n<p>Average latency was 2.065ms ( machines being within same data centre )</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/918384d2c3c71486ccbcdacf90ac7f98/374ce/one-ds-latency.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 647px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.97836166924265%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7CAAAOwgEVKEqAAAABHklEQVQoz52Ti26DMAxF+/9/iNQJCZVOVbcCeZA3d8SQLC0UabMU2ST25cSY0zRNSBZj7z1CCNmX50eW8k7pwTkHIQTqukbbtuSrqkLXdZSYxN+tpJMFh2EAYxxKW6Kz1sEYk0lL6rjcHM+VOLcjrl96KxiCx6MXGKTLRL9nYUPpfSBB66L4DqEQDM31gY5bSnTumazsb0m76WG8lpQyvh+fd74KgggSzR7ha08z4TiOc+8YRimIsP8jYSlGhOkQU0B7Y7g99EroM0kqTHuv8e7YyLmH5+Ybl7uiA/dfwXLz4zKgahhd2ZhlfOJ8WptGafFl/EZw/dJyBBdqTjbgnFORUooGPhZHr7Wm+ez7nnw5Xk9XPrIovkzC8W8X7QfQ3bFq2B2pOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Single deepstream latency\"\n        title=\"\"\n        src=\"/static/918384d2c3c71486ccbcdacf90ac7f98/374ce/one-ds-latency.png\"\n        srcset=\"/static/918384d2c3c71486ccbcdacf90ac7f98/6a467/one-ds-latency.png 210w,\n/static/918384d2c3c71486ccbcdacf90ac7f98/635b1/one-ds-latency.png 420w,\n/static/918384d2c3c71486ccbcdacf90ac7f98/374ce/one-ds-latency.png 647w\"\n        sizes=\"(max-width: 647px) 100vw, 647px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Average latency was 0.999ms ( machines being within same data centre )</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6926e1d4f15620c99c65243fca685afb/1b9ac/three-ds-latency.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 648px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.72839506172839%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7CAAAOwgEVKEqAAAABHklEQVQoz51Ty26EMAzk/7+QQysOFQdUsQGSEPJiGgdMaVh2pVqyHBx7GD9SreuKs4QQDo0xory/E46r+MM5B601mqZB27bZ1nUNIUQOZPA7ZZyKgylRKYXgPfyu1tps6f6sWwUxg3y2Mz6S/gGkg/cOSs9YbDgYlczYR4Abq1SZj1kvDIdhwEOMmJRLNxF+7yH3ks+UdPZdemiMAWmMAZPUkNrnP3NJzJAB+HzbQ+obqZwm9I/EUG8Mn7F55juDZYbhKM2jF2oD3BlycsmQfSW7Y20ocBwF2k7ge7A7YPgf4NnZ9QpfnaZfwKa9pES3W1ofV/h+p30B3BzzbDAbm/ZvgZQyg1B/l2XJO8k+sjRIAuZJX17KK+HBvXt2JD+pH7IK0sWTUwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"deepstream cluster latency\"\n        title=\"\"\n        src=\"/static/6926e1d4f15620c99c65243fca685afb/1b9ac/three-ds-latency.png\"\n        srcset=\"/static/6926e1d4f15620c99c65243fca685afb/6a467/three-ds-latency.png 210w,\n/static/6926e1d4f15620c99c65243fca685afb/635b1/three-ds-latency.png 420w,\n/static/6926e1d4f15620c99c65243fca685afb/1b9ac/three-ds-latency.png 648w\"\n        sizes=\"(max-width: 648px) 100vw, 648px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","frontmatter":{"title":"Latency tests"},"fields":{"slug":"/info/performance/single-node-vs-cluster/","githubLink":"https://github.com/deepstreamIO/deepstream.io-website/blob/master/content/info/performance/single-node-vs-cluster/index.md"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/info/performance/single-node-vs-cluster/","navigation":{"order":100,"community":{"order":100,"contribution-guidelines":{"slug":"/info/community/contribution-guidelines/","title":"Open Source Contribution Guidelines","description":"Find out how you can contribute to deepstream","leaf":true,"order":100,"":{"order":100}},"get-in-touch":{"slug":"/info/community/get-in-touch/","title":"Getting in touch","description":"Find out how to get in touch with other deepstream aficionados","leaf":true,"order":100,"":{"order":100}}},"performance":{"order":100,"four-billion-messages-per-hour":{"slug":"/info/performance/four-billion-messages-per-hour/","title":"Four billion messages an hour - benchmarking deepstream throughput","description":"A report on deepstream throughput performance testing","leaf":true,"order":100,"":{"order":100}},"overview":{"slug":"/info/performance/overview/","title":"Performance Overview","description":"An overview on deepstream performance and running your tests","leaf":true,"order":100,"":{"order":100}},"single-node-vs-cluster":{"slug":"/info/performance/single-node-vs-cluster/","title":"Latency tests","description":"A suite of tests to determine message latency under load","leaf":true,"order":100,"":{"order":100}}}}}}}