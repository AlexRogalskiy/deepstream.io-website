<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="https://unpkg.com/ionicons@4.2.2/dist/css/ionicons.min.css" rel="stylesheet"/><style data-href="/styles.8dd15211ae79f6c514eb.css">.content h3{margin:15px 0 10px;font-size:18px;font-weight:400}.content *{font-size:16px;font-weight:300;font-family:Roboto,sans-serif;color:#333}.content h2{font-size:20px;border-bottom:1px solid #ddd;padding-bottom:4px;margin-top:40px}.content h4,.content h4 code{font-size:15px;margin-top:32px;color:#000;font-weight:400}.content p{margin-top:16px}.content p a{color:#0fbbec;text-decoration:underline;cursor:pointer}.content p a:hover{color:#085b73}.content img{display:block;margin:10px auto;max-width:100%}.content li{padding:5px 20px;position:relative;line-height:30px}.content strong{font-weight:400;color:#111}.content li:before{content:"-";position:absolute;left:6px;font-size:16px;font-weight:500;color:#aaa}.content li a,.content td a{color:#0fbbec;text-decoration:underline;cursor:pointer}.content pre{margin:16px 0}.content code,.content code *{font-family:Courier New,monospace}.content .info{border:1px solid #8ab4d0;padding:10px 10px 10px 60px;background:#f6f9fb;margin:16px 0;box-sizing:border-box;position:relative;color:#235d84;line-height:30px}.content .info:before{content:"\F14A";display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;text-rendering:auto;line-height:1;-webkit-font-smoothing:antialiased;color:#8ab4d0;position:absolute;left:25px;top:8px;font-size:50px}.MarkDownContent-module--wrapper--3AkoE{display:flex;max-width:1260px;margin-left:auto;margin-right:auto;padding:0 20px}.MarkDownContent-module--content--1qbRY{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;flex-basis:auto;justify-content:flex-start;align-items:stretch}.MarkDownContent-module--article--3skOV{max-width:840px;margin-left:auto;margin-right:auto}@media (max-width:500px){.MarkDownContent-module--article--3skOV,.MarkDownContent-module--wrapper--3AkoE{width:100%}}.MarkDownContent-module--header--3kRJY{margin-top:80px}.MarkDownContent-module--title--3lwnS{font-size:3em}.MarkDownContent-module--githubEdit--3mTJ5{margin-left:10px}.MarkDownContent-module--githubEdit--3mTJ5 svg{font-size:22px}.MarkDownContent-module--navToItem--BI1cQ{display:inline-block;margin-top:25px}.MarkDownContent-module--navToItem--BI1cQ a{font-size:16px;margin:5px}.MarkDownContent-module--navToItem--BI1cQ a,.MarkDownContent-module--navToItem--BI1cQ path{color:#aaa}.MarkDownContent-module--navToItem--BI1cQ:hover a,.MarkDownContent-module--navToItem--BI1cQ:hover path{color:#0fbbec}.MarkDownContent-module--nextItem--1A6Vp{float:right}.MarkDownContent-module--versionchanged--GJJ-W{margin-top:10px;font-size:12px;font-style:italic}._404-module--elton--2CEE5{width:30%;height:30%;display:inline-block}._404-module--content--2RSHP{display:inline-block;vertical-align:top;margin:50px;max-width:450px}._404-module--content--2RSHP h1{font-size:50px}._404-module--content--2RSHP a,._404-module--content--2RSHP p{font-size:20px;font-weight:300}._404-module--content--2RSHP a{color:#0fbbec}@media (max-width:800px){._404-module--elton--2CEE5{width:100%}}.docs a{width:300px;display:block;float:left;text-align:center;padding:80px 0;cursor:pointer;font-size:25px;font-weight:200;-webkit-transition:all .4s ease;transition:all .4s ease}.docs a:hover{background-color:#0fbbec;color:#fff}.docs a img{display:block;margin:0 auto 20px}@media (max-width:500px){.docs a{width:100%}}.guides-module--guides--3wOTp{padding:0 50px}.guides-module--guideSectionHeader--OL_cu{margin-top:30px;border-bottom:1px solid #ddd}.guides-module--guide--35feF{width:300px;padding:50px;display:inline-block}.guides-module--guide--35feF:hover{background-color:#ececec;cursor:pointer}.guides-module--guideImage--2-jaO{width:100%}.guides-module--guideTitle--1-mCD{text-align:center;margin-top:20px}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}html{font-size:62.5%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{height:100%;max-height:100%}body{font-family:Merriweather,serif;letter-spacing:.01rem;font-size:1.8rem;line-height:1.75em;color:#3a4145;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1;text-rendering:geometricPrecision}::-moz-selection{background:#d6edff}::selection{background:#d6edff}h1,h2,h3,h4,h5,h6{line-height:1.15em;margin:0 0 .4em}h1{font-size:5rem;letter-spacing:-2px;text-indent:-3px}h2{font-size:3.6rem;letter-spacing:-1px}h3{font-size:3rem;letter-spacing:-.6px}h4{font-size:2.5rem}h5,h6{font-size:2rem}a{color:#4a4a4a;-webkit-transition:color .3s ease;transition:color .3s ease}a:hover{color:#111}ol ol,ol ul,ul ol,ul ul{margin:0 0 .4em;padding-left:2em}dl dt{float:left;width:180px;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd,dl dt{margin-bottom:1em}dl dd{margin-left:200px}li{margin:.4em 0}li li{margin:0}hr{display:block;height:1px;border:0;border-top:1px solid #efefef;margin:3.2em 0;padding:0}blockquote{box-sizing:border-box;margin:1.75em 0 1.75em -2.2em;padding:0 0 0 1.75em;border-left:.4em solid #4a4a4a}blockquote p{margin:.8em 0;font-style:italic}blockquote small{display:inline-block;margin:.8em 0 .8em 1.5em;font-size:.9em;color:#ccc}blockquote small:before{content:"\2014   \A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}mark{background-color:#fdffb6}code,tt{padding:1px 3px;font-family:Inconsolata,monospace,sans-serif;font-size:.85em;white-space:pre-wrap;border:1px solid #e3edf3;border-radius:2px;-webkit-font-feature-settings:"liga" 0;font-feature-settings:"liga" 0}code,pre,tt{background:#f7fafb}pre{box-sizing:border-box;margin:0 0 1.75em;border:1px solid #e3edf3;width:100%;padding:10px;font-family:Inconsolata,monospace,sans-serif;font-size:.9em;white-space:pre;overflow:auto;border-radius:3px}pre code,pre tt{font-size:inherit;white-space:pre-wrap;background:transparent;border:none;padding:0}kbd{display:inline-block;margin-bottom:.4em;padding:1px 8px;border:1px solid #ccc;color:#666;text-shadow:#fff 0 1px 0;font-size:.9em;font-weight:700;background:#f4f4f4;border-radius:4px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 1px 0 0 #fff}table{box-sizing:border-box;margin:1.75em 0;width:100%;max-width:100%;background-color:transparent}table td,table th{padding:8px;line-height:20px;text-align:left;vertical-align:top;border-top:1px solid #efefef}table th{color:#000}table caption+thead tr:first-child td,table caption+thead tr:first-child th,table colgroup+thead tr:first-child td,table colgroup+thead tr:first-child th,table thead:first-child tr:first-child td,table thead:first-child tr:first-child th{border-top:0}table tbody+tbody{border-top:2px solid #efefef}table table table{background-color:#fff}table tbody>tr:nth-child(odd)>td,table tbody>tr:nth-child(odd)>th{background-color:#f6f6f6}table.plain tbody>tr:nth-child(odd)>td,table.plain tbody>tr:nth-child(odd)>th{background:transparent}.fluid-width-video-wrapper iframe{margin:0}input,select,textarea{width:260px;padding:6px 9px;margin:0 0 5px;outline:0;font-family:Open Sans,sans-serif;font-size:1.6rem;font-weight:100;line-height:1.4em;background:#fff;border:1px solid #e7eef2;border-radius:4px;box-shadow:none;-webkit-appearance:none}textarea{width:100%;max-width:340px;min-width:250px;height:auto;min-height:80px}input[type=date]:focus,input[type=datetime-local]:focus,input[type=datetime]:focus,input[type=email]:focus,input[type=month]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=time]:focus,input[type=url]:focus,input[type=week]:focus,textarea:focus{outline:none;outline-width:0}select{width:270px;height:30px;line-height:30px}.button,button{min-height:35px;width:auto;display:inline-block;padding:.1rem 1.5rem;cursor:pointer;outline:none;text-decoration:none;color:#fff;font-family:Open Sans,sans-serif;font-size:11px;line-height:13px;font-weight:300;text-align:center;letter-spacing:1px;text-transform:uppercase;text-shadow:none;border-radius:.3rem;border:.1em solid rgba(0,0,0,.05);background:#5ba4e5}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.hidden{text-indent:-9999px;visibility:hidden;display:none}.inner{position:relative;width:80%;max-width:710px;margin:0 auto}.vertical{display:table-cell;vertical-align:middle}.site-wrapper{position:relative;z-index:10;min-height:100%;background:#fff;-webkit-transition:-webkit-transform .5s ease;transition:-webkit-transform .5s ease;transition:transform .5s ease;transition:transform .5s ease,-webkit-transform .5s ease}*{margin:0;padding:0;list-style-type:none;font:12px/16px Roboto,sans-serif;color:#222;box-sizing:border-box}@-webkit-keyframes pulse{0%{-webkit-transform:scale(.95);transform:scale(.95)}50%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(.95);transform:scale(.95)}}@keyframes pulse{0%{-webkit-transform:scale(.95);transform:scale(.95)}50%{-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:scale(.95);transform:scale(.95)}}h1,h2,h2>a,h3,h3>a{font-size:26px;font-weight:100;color:#474b4c;margin-bottom:16px}h3{margin-bottom:4px}h3,p{font-size:20px}p{color:#647276;line-height:30px;font-weight:300}em{font-style:italic}section{display:block;clear:both;overflow:hidden;padding:40px 0 80px}.section-headline{text-align:center;margin:40px 0}.two-col .left,.two-col .right{float:left;width:100%}@media screen and (min-width:47em){.two-col .left,.two-col .right{width:50%}}a{text-decoration:none}.active,.active a{color:#1876b3;font-weight:700}h3.icon-divider{margin-bottom:20px}h3.icon-divider span.icon{display:inline-block;color:#999;position:relative;top:4px;font-size:25px;padding:0 1px}h3.icon-divider span.divider{display:inline-block;height:20px;width:1px;margin:3px 6px;background-color:#0fbbec;vertical-align:middle}h3.icon-divider span.text{font-size:20px;font-weight:100}.wrapper{max-width:1200px;margin:0 auto}.two-col{overflow:hidden}.two-col>.col{float:left}.two-col>.col.small{width:300px}.two-col>.col.big{border-left:1px solid #eee;border-top:1px solid #eee;width:100%}.edit-page-link{float:right;margin-right:20px;margin-top:5px}.section-overview{position:relative}.section-overview section{padding-bottom:0}.section-overview h2,.section-overview h2 a{font-size:20px;font-weight:300}.section-overview h2{margin-bottom:8px}.section-overview h2 a{margin-bottom:0}.section-overview h3,.section-overview h3 a{font-size:14px;font-weight:300;color:#bbb;margin:0}.section-overview h4{font-size:14px;font-weight:300;line-height:normal;color:#474b4c;margin:0}.section-overview p{font-size:14px;color:#647276}.section-overview .entries{vertical-align:top;overflow:hidden;padding-left:20px;border-left:1px solid #dadada;margin-top:30px}.section-overview a.entry,.section-overview a.entry *{-webkit-transition:all .3s ease;transition:all .3s ease}.section-overview a.entry .logo-image{width:40px;height:40px}.section-overview .category,.section-overview .category-page{width:280px;float:left}.section-overview a.entry{box-sizing:border-box;cursor:pointer;padding:10px;display:flex}.section-overview a.entry:hover{background:#0fbbec}.section-overview a.entry:hover *{color:#fff!important}.section-overview a.entry h3{clear:both;display:block}.section-overview a.entry h4{font-size:16px;color:#474b4c;margin:10px 0 10px 10px;display:inline-block;font-weight:300}.section-overview a.entry .entry-icon{display:inline-block;width:30px;color:#58c9e8;font-size:26px;position:relative;top:4px;margin-right:10px}.section-overview a.entry img.entry-icon{top:10px;margin-right:10px}.section-overview .elton-overview{position:absolute;bottom:0;left:0;width:20%}code[class*=language-],pre[class*=language-]{color:#000;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{position:relative;margin:.5em 0;overflow:visible;padding:0}pre[class*=language-]>code{position:relative;border-left:10px solid #358ccb;box-shadow:-1px 0 0 0 #358ccb,0 0 0 1px #dfdfdf;background-color:#fdfdfd;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(50%,transparent),color-stop(50%,rgba(69,142,209,.04)));background-image:linear-gradient(transparent 50%,rgba(69,142,209,.04) 0);background-size:3em 3em;background-origin:content-box;background-attachment:local}code[class*=language]{max-height:inherit;height:inherit;padding:0 1em;display:block;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdfdfd;box-sizing:border-box;margin-bottom:1em}:not(pre)>code[class*=language-]{position:relative;padding:.2em;border-radius:.3em;color:#c92c2c;border:1px solid rgba(0,0,0,.1);display:inline;white-space:normal}pre[class*=language-]:after,pre[class*=language-]:before{content:"";z-index:-2;display:block;position:absolute;bottom:.75em;left:.18em;width:40%;height:20%;max-height:13em;box-shadow:0 13px 8px #979797;-webkit-transform:rotate(-2deg);transform:rotate(-2deg)}:not(pre)>code[class*=language-]:after,pre[class*=language-]:after{right:.75em;left:auto;-webkit-transform:rotate(2deg);transform:rotate(2deg)}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7d8b99}.token.punctuation{color:#5f6364}.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol,.token.tag{color:#c92c2c}.token.attr-name,.token.builtin,.token.char,.token.function,.token.inserted,.token.selector,.token.string{color:#2f9c0a}.token.entity,.token.operator,.token.url,.token.variable{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.class-name,.token.keyword{color:#1990b8}.token.important,.token.regex{color:#e90}.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.namespace{opacity:.7}@media screen and (max-width:767px){pre[class*=language-]:after,pre[class*=language-]:before{bottom:14px;box-shadow:none}}.token.cr:before,.token.lf:before,.token.tab:not(:empty):before{color:#e0d7d1}pre[class*=language-].line-numbers.line-numbers{padding-left:0}pre[class*=language-].line-numbers.line-numbers code{padding-left:3.8em}pre[class*=language-].line-numbers.line-numbers .line-numbers-rows{left:0}pre[class*=language-][data-line]{padding-top:0;padding-bottom:0;padding-left:0}pre[data-line] code{position:relative;padding-left:4em}pre .line-highlight{margin-top:0}.layout-header{position:-webkit-sticky;position:sticky;top:0;z-index:10;width:100%}.layout-header nav{background-color:#0fbbec;height:60px}.layout-header nav .wrapper{position:relative;padding:0 15px}.layout-header nav .links{float:right}.layout-header nav .links a{display:inline-block;padding:26px 15px;font-size:15px;color:#fff;cursor:pointer}.layout-header .header-logo{display:inline-block}.layout-header .header-logo svg{width:50px;height:50px;margin:10px 0 6px}.layout-header .header-logo span{display:inline-block;vertical-align:top;padding-top:27px;font-weight:400;color:#fff;padding-left:6px;font-size:20px}.layout-header .header-logo span em{font-size:21px;font-weight:400;color:#c2eefa;font-style:normal}.layout-header .desktop-nav{float:right}.layout-header .desktop-nav li{margin:0 10px;float:left}.layout-header .desktop-nav li.active a,.layout-header .desktop-nav li:hover a{color:#0f4d75}.layout-header .desktop-nav li.search:hover{opacity:1}.layout-header .mobile-menu{-webkit-transition:.3s;transition:.3s;left:110%;z-index:11;position:fixed;top:70px;height:100%;width:100%;background-color:#fefefe}.layout-header .mobile-nav{font-size:16px;text-align:center;height:calc(100% - 42px);overflow:auto}.layout-header .mobile-nav ul{width:100%}.layout-header .mobile-nav #subnav .de-emphasized,.layout-header .mobile-nav #subnav .head,.layout-header .mobile-nav li a{color:#145068;border-bottom:1px solid #eee}.layout-header .mobile-nav li a{padding:20px}.layout-header .mobile-nav #subnav li a{padding:10px}.layout-header .mobile-nav #subnav .de-emphasized,.layout-header .mobile-nav #subnav .head{font-size:11px;padding:5px}.layout-header .mobile-nav li.a.active{background-color:#f6f6f6}.layout-header .mobile-nav li>a.active{color:#00ccfe}.layout-header .mobile-nav #subnav li.active>a{font-weight:500}.layout-header .menu-button{top:15px;right:15px;display:none;position:absolute}.layout-header .menu-button svg{fill:#ececec;font-size:40px;cursor:pointer}.layout-header .menu-button svg:hover{fill:#fff}@media (max-width:799px){.layout-header body.nav-opened{overflow:hidden}.layout-header .mobile-menu.open{left:0}.layout-header .desktop-nav{display:none}.layout-header .menu-icon{display:block}.layout-header .menu-icon svg{height:40px;width:40px}.layout-header .nav ul{display:inline-block;z-index:1}.layout-header .nav li{opacity:1;background-size:4px;-webkit-transition:opacity .3s ease;transition:opacity .3s ease;text-align:center}.layout-header .nav a{display:block;font-size:14px;font-family:Quicksand,sans-serif;font-weight:500;text-decoration:none}}#algolia-docsearch{margin:22px 15px;width:150px;padding:0}.algolia-docsearch-wrapper{position:relative;display:inline-block}.algolia-docsearch-wrapper svg{position:absolute;top:28px;right:20px;fill:#d3d3d3}.layout-footer{position:relative;clear:both}.layout-footer h4{color:#666;margin-bottom:20px}.layout-footer a,.layout-footer li{display:block;padding:5px 0}.layout-footer *{font-size:12px;font-weight:300;color:#aaa}.layout-footer i{display:inline-block;width:20px}.layout-footer .copyright{text-align:center;margin-bottom:30px}.layout-footer img{width:170px;height:170px;opacity:.7}.layout-footer .cols{overflow:hidden;margin:50px 25px 0}.layout-footer .col{width:100%;margin:0 0 2em 5%;float:left;box-sizing:border-box;overflow:hidden}.layout-footer .col-a{display:none}.layout-footer .col-c a span,.layout-footer .col-d a span{margin-left:5px}@media screen and (min-width:47em){.layout-footer .cols{margin:50px 0 30px}.layout-footer .col{width:30%}.layout-footer.with-side-bar{max-width:1260px;margin-left:auto;margin-right:auto;padding-right:500px}}@media screen and (min-width:70em){.layout-footer .col-a{display:block}.layout-footer .col{width:20%}}.SideBar-module--sidebar--2Gu0r{display:flex}.SideBar-module--hack--21xGm{position:fixed;top:60px;right:0;z-index:2;height:calc(100vh - 60px);overflow-y:auto;width:400px;box-sizing:border-box;background-color:#f7f7f7;opacity:1!important;padding:40px 100px 40px 40px;border-left:1px solid #eee}.SideBar-module--sectionLevel--1M38x>a,.SideBar-module--sectionLevel--1M38x>label{font-size:16px;font-weight:500;line-height:3;text-transform:uppercase;margin-right:5px;color:#6d6d6d}.SideBar-module--subsectionLevel--20Xnn>a,.SideBar-module--subsectionLevel--20Xnn>label{margin-left:10px;font-size:14px;font-weight:300;line-height:3;text-transform:uppercase;color:#6d6d6d}.SideBar-module--leaf--m9Lqk{margin-left:10px}.SideBar-module--leaf--m9Lqk>a,.SideBar-module--leaf--m9Lqk>label{font-size:16px;line-height:1.75;font-weight:300}.SideBar-module--activeLeaf--_1lf5,.SideBar-module--activeLeaf--_1lf5>a{color:#0fbbec}@media screen and (max-width:500px){.SideBar-module--sidebar--2Gu0r{display:none}}.WIP-module--wip--38Eyr{height:85px;padding:20px;margin:20px 0;border:1px solid #6d6d6d;border-radius:4px}.WIP-module--image--3yl2Y{width:50px;display:inline-block}.WIP-module--help--3wZO9{vertical-align:top;display:inline-block;width:calc(100% - 200px);margin-left:20px;font-size:16px;line-height:20px}.WIP-module--editLink--2-RvE{color:#647276;line-height:20px;font:16px Roboto,sans-serif;font-weight:500}.WIP-module--editLink--2-RvE:hover{cursor:pointer;color:#0fbbec}.Hero-module--hero--1rnBD{background-color:#0fbbec;width:100%}.Hero-module--wrapper--MeBq_{display:flex;align-items:center;justify-content:center;max-width:1000px;width:100%;margin:auto}@media screen and (max-width:47em){.Hero-module--hero--1rnBD{padding:50px}.Hero-module--wrapper--MeBq_{flex-direction:column}}.Hero-module--bannerImage--1B4gQ{width:33%;min-width:200px;max-width:300px}.Hero-module--content--3fSvG{text-align:center}.Hero-module--title--6b_f0{color:#fff;font-size:4rem}.Hero-module--description--2t2nz{color:#fff;font-size:2rem;margin-bottom:30px}.Hero-module--action--2XD6E{color:#0fbbec;background-color:#fff;text-transform:uppercase;padding:20px;margin-bottom:30px}.WhatIsIt-module--why--3v-yO{text-align:left;margin-right:60px;margin-left:95px;margin-bottom:30px}@media screen and (max-width:900px){.WhatIsIt-module--why--3v-yO{margin-right:10px;margin-left:30px}}.WhatIsIt-module--whyTitle--21fzP{font-size:3rem;margin-bottom:20px}.WhatIsIt-module--whyDescription--1OTc4{font-size:2rem}.what-is-it{padding:112px 0;background:#fff;box-shadow:0 0 11px 0 rgba(0,0,0,.3);position:relative;z-index:3}.what-is-it .core-features{flex-direction:row;display:flex;justify-content:space-between;margin-right:60px;margin-left:95px}.what-is-it .core-features p{line-height:22px;font-size:16px}.what-is-it .core-features .divider{height:2px;width:400px;background-color:#0fbbec;margin:40px auto;clear:left}.what-is-it .core-features h2{text-align:center;font-size:30px;color:#5f5f5f;margin-bottom:40px}.what-is-it .core-features h3{text-align:left;font-size:22px;color:#5f5f5f;margin-bottom:14px;font-weight:300}.what-is-it .core-features h3 small{display:block;margin-top:6px;font-size:14px;font-style:italic}.what-is-it .core-features li{width:260px;margin-right:110px;text-align:left;float:left}.what-is-it .core-features li:last-child{margin-right:0}@media screen and (max-width:900px){.what-is-it .core-features p{width:90%}.what-is-it .core-features{flex-direction:column;margin:0;padding:0 10px 0 35px}.what-is-it .core-features li{margin-top:40px}.what-is-it .core-features img{position:static;width:90%;margin-bottom:50px}}.Section-module--wrapper--UAsPD{max-width:1200px;margin:0 auto}.Section-module--twoColumn--1DNKW{display:inline-block;width:100%;height:100%;position:relative}@media screen and (min-width:47em){.Section-module--twoColumn--1DNKW{width:50%}}.overview-header{background:-webkit-gradient(linear,left top,left bottom,from(0),color-stop(#55d3f7),to(#0fbbec));background:linear-gradient(0,#55d3f7,#0fbbec);background:-webkit-gradient(linear,left top,left bottom,from(#0fbbec),to(#55d3f7));background:linear-gradient(180deg,#0fbbec 0,#55d3f7);background:-moz-linear-gradient(90deg,#55d3f7,#0fbbec);position:relative;height:150px}.overview-header img{height:100%;min-width:220px;position:absolute;left:10%;bottom:-15%}.overview-header .elton-overview{left:12%}.overview-header .elton-docs{bottom:-17%}.overview-header .elton-info{bottom:-9%}.overview-header h1{font-size:40px;font-weight:100;color:#fff;margin-bottom:16px;position:absolute;width:100%;text-align:center;top:30%}.overview-header .tags{text-align:center;top:54%;width:39%;margin:0 auto;position:relative}@media (max-width:420px){.overview-header #support a{margin-top:16px}.overview-header .elton-tutorial{max-width:300px;top:60%}.overview-header .elton-blog,.overview-header .elton-docs,.overview-header .elton-info{max-width:295px}}@media (max-width:1000px){.overview-header .tags{display:none}.overview-header .elton-blog,.overview-header .elton-docs,.overview-header .elton-info,.overview-header .elton-tutorial{left:1%}}.overview-header .tags a{color:#fff;display:inline-block;border-right:1px solid hsla(0,0%,100%,.5);padding:0 7px;margin:4px 0;cursor:pointer;-webkit-transition:all .3s ease;transition:all .3s ease}.overview-header .tags a:last-child{border:none}.overview-header .tags a:hover{background-color:hsla(0,0%,100%,.3)}.BlogEntries-module--entry--2IjKn{display:block;margin:20px;padding:10px;border-radius:2px}.BlogEntries-module--entry--2IjKn:hover{background-color:#ececec;cursor:pointer}.BlogEntries-module--entry--2IjKn>*{display:inline-block}.BlogEntries-module--entry--2IjKn>.BlogEntries-module--gatsby-image-wrapper--2xTC3,.BlogEntries-module--entry--2IjKn>img{width:50px}.BlogEntries-module--entry--2IjKn>span{padding-left:20px;width:calc(100% - 50px)}.BlogEntries-module--release--HEXlQ{color:red}.LearnMore-module--learnMore--16dEJ{background-color:#0fbbec}.LearnMore-module--actions--iC0SK{margin-top:50px}.LearnMore-module--action--XhwSV{color:#0fbbec;background-color:#fff;text-transform:uppercase;padding:20px;margin-bottom:30px;margin-right:10px}</style><meta name="generator" content="Gatsby 2.13.33"/><title data-react-helmet="true"></title><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link as="script" rel="preload" href="/component---src-templates-info-tsx-e1500ae034a189f7132e.js"/><link as="script" rel="preload" href="/1-368f95ac86d02e227679.js"/><link as="script" rel="preload" href="/app-f3978e038f789d6fea75.js"/><link as="script" rel="preload" href="/styles-613472d7ea5c171c4f22.js"/><link as="script" rel="preload" href="/webpack-runtime-f55746dbbab87edfeab7.js"/><link as="fetch" rel="preload" href="/page-data/info/performance/four-billion-messages-per-hour/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><header class="layout-header"><nav><div class="wrapper"><div class="header-logo"><a href="/" id="logo"><span>deepstream<em>.io</em></span></a></div><span class="menu-button menu-icon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"></path></svg></span><div class="nav desktop-nav"><span class="algolia-docsearch-wrapper"><input id="algolia-docsearch"/><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg></span><ul class="links desktop-menu"><li class="navigation-link"><a target="_blank" href="https://github.com/deepstreamIO/deepstream.io">github</a></li><li class="navigation-link"><a href="/guides/">guides</a></li><li class="navigation-link"><a href="/tutorials/">tutorials</a></li><li class="navigation-link"><a href="/docs/">docs</a></li><li class="navigation-link"><a href="/blog/">blog</a></li></ul></div></div></nav><div class="mobile-menu"><div class="nav mobile-nav"><ul class="links desktop-menu"><li class="navigation-link"><a target="_blank" href="https://github.com/deepstreamIO/deepstream.io">github</a></li><li class="navigation-link"><a href="/guides/">guides</a></li><li class="navigation-link"><a href="/tutorials/">tutorials</a></li><li class="navigation-link"><a href="/docs/">docs</a></li><li class="navigation-link"><a href="/blog/">blog</a></li></ul></div></div></header><div><div class="MarkDownContent-module--wrapper--3AkoE"><article class="MarkDownContent-module--article--3skOV"><header class="MarkDownContent-module--header--3kRJY"><h1 class="MarkDownContent-module--title--3lwnS">Four billion messages an hour - benchmarking deepstream throughput<a class="MarkDownContent-module--githubEdit--3mTJ5" href="https://github.com/deepstreamIO/deepstream.io-website/blob/master/content/info/performance/four-billion-messages-per-hour/index.md"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></h1></header><div class="MarkDownContent-module--content--1qbRY content"><p>When it comes to benchmarking realtime systems, there are three core metrics to watch out for:</p>
<p><strong>Latency:</strong> the speed at which updates traverse the system</p>
<p><strong>Concurrency:</strong> the number of simultaneous clients</p>
<p><strong>Throughput:</strong> How many updates can be sent to clients in a given time</p>
<p>We’ve concentrated on latency and to some extent concurrency in <a href="/info/performance/single-node-vs-cluster/">the last set of benchmarks</a>, but now it’s time to look into throughput.</p>
<h2 id="a-real-world-test"><a href="#a-real-world-test" aria-label="a real world test permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A real world test</h2>
<p>It’s important to stress that our benchmarking approach aims to identify the best possible performance for real-world messages and cost-efficient infrastructure setups. It is perfectly possible to increase the achieved test results by up to 400% by reducing messages to single character events and reserving dedicated, network optimized bare metal instances, but the use of these metrics would be of very debatable value.</p>
<h3 id="test-setup"><a href="#test-setup" aria-label="test setup permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test Setup</h3>
<p>We ran two suites of tests, one for a single deepstream node, one for a cluster of six nodes. In both scenarios, a single provider pumped simulated foreign exchange rate updates into deepstream which were distributed across a number of connected test-clients.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/059199da0d86bad768ebc08f5dddcad5/fa92b/cluster.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 42.21428571428571%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAyElEQVQoz3VQWw7DIAzj/jfdpn1stEB4eTFtKlSxSFGc1HZIHc6oreP5jai1QnIZuLWGKBmPTwB6w54ELx9PnC/81rpLHT6u9w5mVpPvtqOUAlETYponkQvHlAZu7cB+Dzov2LSyp48TFTBzzhAdEietKcUxs+SiAx9c47CajkuvF1rwTBOTHGNE0LRFIYQxY08eTWa9M3A3tpkt8H5TQxn9nTfrrxeucg4pFW2a/dO41ab7i1l5Js9bfVuevIqZzH/Kc+elq/gBNT13fKCBe64AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Test Setup"
        title=""
        src="/static/059199da0d86bad768ebc08f5dddcad5/04a72/cluster.png"
        srcset="/static/059199da0d86bad768ebc08f5dddcad5/6a467/cluster.png 210w,
/static/059199da0d86bad768ebc08f5dddcad5/635b1/cluster.png 420w,
/static/059199da0d86bad768ebc08f5dddcad5/04a72/cluster.png 840w,
/static/059199da0d86bad768ebc08f5dddcad5/c6d2c/cluster.png 1260w,
/static/059199da0d86bad768ebc08f5dddcad5/fa92b/cluster.png 1400w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>We’ve open-sourced all aspects of our test-framework. If you’d like to run the tests yourself or benchmark your custom setup, please find them <a href="https://github.com/deepstreamIO/ds-test-fx">here</a></p>
<h3 id="test-clients"><a href="#test-clients" aria-label="test clients permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test Clients</h3>
<p>We’ve developed a remote-controllable “probe” that can be used as both client and data-provider. Each probe is an independent process within a docker container that connects to a control deepstream-server upon startup and waits for further instructions.</p>
<p>Whenever a probe comes online, its presence is reported to a browser based dashboard using deepstream’s <a href="/tutorials/core/active-data-providers/">listen</a> feature.
From this dashboard it is possible to configure each probe, set its role as a client or a provider, its update frequency and subscriptions and connect it to any given deepstream node.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/4374a73ad1dd3d23c54967845acc2fcb/02da8/dashboard.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 50.10504201680672%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABiUlEQVQoz22S13LrMBBD/f/faMdFLlEhKfbYSgYXoKU83MnDDqHlFhxJOz9NmIcBNQSkeYajfqYI7wLGySOXBSnkVvNKCa+cYfu+PS/UxfsWytdasfv6/MSLBeV2w1sPKNcO5jGjH77RdQn27vA99EjXK8r9joXDVK9Qb2WuPh4oXLizHx/wunQO7nTC3HUo1uDRGRzPEZMpmG4jHOsiaRIHSAeeeRzR+jWM/SVG7PzlgsDNlZeBwxSFbtxtQH8ZMfeWDTzPJyQSFIY/nxHlik6lAw2pvzn8RWZB08KR5taf8Y0mvahhRVuGkee9oape9+ptA83hAEeHWcjHIxw3JktXdG75HI1BYKPZ7xGIHLncHvbwPBOXKD/z/hdZiFEvmwU6FZnbEp1F3iVuz4zABdJCVj4Kkz1bv/CbQyHIdmXh/1qYOuv6KoS16a3myaHKP7eBE5EttwhZiJZfOq7IRl9zRZ6EPL6RG6Yo+AqUd3SbN2ShKYSV2dhQ9Rvp+S/NQU0Lc9VpzcvhP/cm8JgAPbwSAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Dashboard"
        title=""
        src="/static/4374a73ad1dd3d23c54967845acc2fcb/04a72/dashboard.png"
        srcset="/static/4374a73ad1dd3d23c54967845acc2fcb/6a467/dashboard.png 210w,
/static/4374a73ad1dd3d23c54967845acc2fcb/635b1/dashboard.png 420w,
/static/4374a73ad1dd3d23c54967845acc2fcb/04a72/dashboard.png 840w,
/static/4374a73ad1dd3d23c54967845acc2fcb/c6d2c/dashboard.png 1260w,
/static/4374a73ad1dd3d23c54967845acc2fcb/27aa4/dashboard.png 1680w,
/static/4374a73ad1dd3d23c54967845acc2fcb/02da8/dashboard.png 1904w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>High level metrics from the probe, e.g. messages received or send in the last second are streamed to the dashboard and aggregated there. Lower level system metrics like CPU usage or memory consumption are aggregated on the individual machines using the <code class="language-text">top</code> linux process manager and collected at the end of the tests.</p>
<h3 id="server-machines"><a href="#server-machines" aria-label="server machines permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Server Machines</h3>
<p>Our tests were run on Amazon Web Services infrastructure.
deepstream nodes are single-threaded processes with non-blocking I/O that scale via clustering. This makes it is possible to utilize multi-core CPUs by running multiple deepstream nodes on the same machine - but with the downside that nodes are subject to the limitations of that machine (ephemeral port limits, thread and memory allocation, single point of failure if the machine goes down etc.).</p>
<p>We therefore went with the recommended approach of spreading deepstream servers across multiple smaller machines, leading to higher fault tolerance, better resource utilisation and horizontal scalability. After extensive evaluation we found that EC2 t2.medium instances provide the best performance-to-cost ratio and used this instance type to host the servers in our test.</p>
<h3 id="messages"><a href="#messages" aria-label="messages permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Messages</h3>
<p>To allow for realistic message sizes, we’ve used simulated foreign exchange price update events as messages. Each event had a name such as fx/gbpusd (foreign exchange rate for pound against dollar) and transmitted a single floating point number with a five digit precision, e.g. 1.34325. This results in an average message size of ~23bytes.
The number is changed for every update and events are distributed over hundreds of different topics.</p>
<h2 id="results---single-node"><a href="#results---single-node" aria-label="results   single node permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Results - Single Node</h2>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/82973853cbc31761c798e9eb589d0e47/e6592/single-node.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 695px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 78.9928057553957%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABEUlEQVQ4y6VU2Y7DIAzk//9un/oF1b5tkcJ9xPXQJGto0/SIFNnYZhgzgKKDb57nzaaUuvGjT70KWGsl530H+Aj0EJCn/oOUchsv8bcYjq0Z5+n0q8nG0jEcWSqZGIukX3Kmn7Omi0t3OQmq9jZXxuFnBpymiSq3PeYkuBqDMgkhCgNA3RhjAw0hsE0tPpLBuDHEytZacs6RNaZZgBn2Ed9ywjdLHRaR6isYBD0HsXqzzAYMwAo/4rAr03UclzrEQaBrGauhEAxgZRtr63ut3rW8l+xUZiDrw8Zkb9+fiiJ9bMuf5XZzeX5sXrl6t/qZQspUv7nLkkUTgwWDAB/fZTkJYmmt2yn46nGQ+wT1j56vKzHd88wBj15EAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Single node"
        title=""
        src="/static/82973853cbc31761c798e9eb589d0e47/e6592/single-node.png"
        srcset="/static/82973853cbc31761c798e9eb589d0e47/6a467/single-node.png 210w,
/static/82973853cbc31761c798e9eb589d0e47/635b1/single-node.png 420w,
/static/82973853cbc31761c798e9eb589d0e47/e6592/single-node.png 695w"
        sizes="(max-width: 695px) 100vw, 695px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Time to start exploring the limits of a single node, starting with CPU consumption. We’ve clocked the maximum throughput of an individual deepstream at 400,000 events per second on a c4.2xlarge high CPU machine. That’s good to know, but collides with our best value for money performance testing policy. On c4.2xlarge, sending a billion messages cost 36 cents.</p>
<p>Moving towards a way more affordable t2.medium instance, we found a sweet spot for CPU utilisation between 160k and 200k messages per second.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/f9cba99baeb2e214d3bceffb2e7732d5/c07e5/cpu-single-node.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 55.81140350877193%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABfklEQVQoz5VT127DMAz0//9fA7RpAyTNXrYly9q6knTsDOSlAgiSknk8HeUKt5VzglKKrEXXdTCmg2rbIdea9rTkdV3Ldy3FmvbZYoyCUUpBFUJApsC4SKBATAUuZLIkZv3gfcwIZGNhzkX8q1WlZDlsTMDPrsVFOTqAgIbIjZIAcW59xrv1BJhSEkBmsTy0mK3O+Fxfcag7rM8Kp9ZQo5py8tsGq6PC70lhsW9wbAw81RHkHZC140D3AYnuXHdOQJdUyMAM8LE8Y7FrMN/W+Cb72lwx3wz+1Pa3GTwwTJQYG9CR/Xf1Ljxdu8ppEJ4ZMigLmBLrmoXx6NlYljHmQboQJxITQ76/JcGv2k30302PjYczxrw4N/aVIWnIk9yT6OuzvnW7Fz7GPAABE0BuwLWjTMNe5Yn2obGYLS8yvZE+Aw0f4caoTG8xkiQoA+BVW/Ser+5Fqso6Jy9dBtPb6dV77yh3sNbKn2OdR0/nSmk6G1g5T3sExE20sQhE7g+i5VwqfaKy9gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="CPU single node"
        title=""
        src="/static/f9cba99baeb2e214d3bceffb2e7732d5/04a72/cpu-single-node.png"
        srcset="/static/f9cba99baeb2e214d3bceffb2e7732d5/6a467/cpu-single-node.png 210w,
/static/f9cba99baeb2e214d3bceffb2e7732d5/635b1/cpu-single-node.png 420w,
/static/f9cba99baeb2e214d3bceffb2e7732d5/04a72/cpu-single-node.png 840w,
/static/f9cba99baeb2e214d3bceffb2e7732d5/c07e5/cpu-single-node.png 912w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>At 10 cents per billion messages this means that we can get almost twice the performance out of a cluster of t2.medium instances than we would from c4.2xlarge.</p>
<p>But what about memory? Fortunately that isn’t too much of a concern. deepstream is a stateless, transactional server that - when connected to an external cache - doesn’t hold data itself… memory tends to level around 80MB per node and is freed up for garbage collection almost immediately after messages are processed.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/147814fc6d2214a0efc3e1a148ec5de9/c0c7b/memory-single-node.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 55.84699453551912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABEElEQVQoz6VSCY7DIAzM/7+6RyABjLlmbVO62arSXkiWp+54PIZsuJ0QI5zz8N7jOA7L53li390da3bOWSg2rtSj9OoZY2ArpRj471ENE+y9W4G4gUtD4iq4IuaZk+QsdbrVrSah3BWltmlKBVtraCKqTW8HWfjIlveQ8X4SjsRwgle8eMIptUCMSMVquVQzZg57HyI67E8Z8+16rfUv18R1bmCCVX6oOxfYpipRB1iMh+jznlRAt1qiKRdxW6Zg5oJXWUFXW6TfRhXHurbe5fb4wn8RvPbao4zbSs/I/eK6/2ADE1zE+UATr0GfrvsdP+MvvDEzap0vpFg/9IUjZaRECCGAMoNo4itn9WpNTXwAPwBjDUCSUb0AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Memory single node"
        title=""
        src="/static/147814fc6d2214a0efc3e1a148ec5de9/04a72/memory-single-node.png"
        srcset="/static/147814fc6d2214a0efc3e1a148ec5de9/6a467/memory-single-node.png 210w,
/static/147814fc6d2214a0efc3e1a148ec5de9/635b1/memory-single-node.png 420w,
/static/147814fc6d2214a0efc3e1a148ec5de9/04a72/memory-single-node.png 840w,
/static/147814fc6d2214a0efc3e1a148ec5de9/c0c7b/memory-single-node.png 915w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>However, there’s one thing to be aware of: deepstream relies on garbage collection to free up dereferenced memory. If a machine’s CPU is overutilized above 100% for a consecutive time, garbage collection will be delayed and memory can add up. If this continues for a prolonged period, the server will run out of memory and eventually crash - so be generous enough when it comes to resource allocation to make sure that your processors get some breathing space every once in a while.</p>
<h2 id="results---cluster"><a href="#results---cluster" aria-label="results   cluster permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Results - Cluster</h2>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/059199da0d86bad768ebc08f5dddcad5/fa92b/cluster.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 42.21428571428571%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAyElEQVQoz3VQWw7DIAzj/jfdpn1stEB4eTFtKlSxSFGc1HZIHc6oreP5jai1QnIZuLWGKBmPTwB6w54ELx9PnC/81rpLHT6u9w5mVpPvtqOUAlETYponkQvHlAZu7cB+Dzov2LSyp48TFTBzzhAdEietKcUxs+SiAx9c47CajkuvF1rwTBOTHGNE0LRFIYQxY08eTWa9M3A3tpkt8H5TQxn9nTfrrxeucg4pFW2a/dO41ab7i1l5Js9bfVuevIqZzH/Kc+elq/gBNT13fKCBe64AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Cluster"
        title=""
        src="/static/059199da0d86bad768ebc08f5dddcad5/04a72/cluster.png"
        srcset="/static/059199da0d86bad768ebc08f5dddcad5/6a467/cluster.png 210w,
/static/059199da0d86bad768ebc08f5dddcad5/635b1/cluster.png 420w,
/static/059199da0d86bad768ebc08f5dddcad5/04a72/cluster.png 840w,
/static/059199da0d86bad768ebc08f5dddcad5/c6d2c/cluster.png 1260w,
/static/059199da0d86bad768ebc08f5dddcad5/fa92b/cluster.png 1400w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    
Armed with these results, we’ve started looking at subjecting a cluster of six nodes, connected by an AWS Elasticache Redis message bus to a performance test. The goal here was simple - gradually increase the throughput to one million messages per second, then leave the cluster running for a continuous amount of time to monitor CPU and memory usage.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/bfd996542b4b37c380e5906c1418f46a/8e846/cpu-cluster.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 43.06666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABJElEQVQoz5VQYU+DMBDt//8JfpzRf6CLbsk2jfphCmYqGXOAY40bDBhCKbS9dhYiy/SL+vJyvXfNa+8OKaV2h2gkJTkr6WGNCwmgBEiQSlNogkJ7c8mlu6EP3vYZZ6YTTPx0uiIvOLuebm7s6HYW382ioRX2ntYjKxhZoR+VtVk2fsONjy6mJyOnM3jtDObHw7mOp1du18Dn48XZ2Os/4u69f2kseybum3iVECSl1G3pTiZesggyP8yd99TGycQN7WUcppRWsE4KffVRMFKKioMeQUcGEjHGAISuvgWkHfmvQFlR6c7nKxJlTGupZ2jQnvVOGtbPtvnXHyinbEuYjTNSlN+3rn7NUUpYkFaUiZ2Su38C5UVZMQ6Ccy4Osde8xQ8JAJ8vaAH9qju/AgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="CPU results in a cluster"
        title=""
        src="/static/bfd996542b4b37c380e5906c1418f46a/04a72/cpu-cluster.png"
        srcset="/static/bfd996542b4b37c380e5906c1418f46a/6a467/cpu-cluster.png 210w,
/static/bfd996542b4b37c380e5906c1418f46a/635b1/cpu-cluster.png 420w,
/static/bfd996542b4b37c380e5906c1418f46a/04a72/cpu-cluster.png 840w,
/static/bfd996542b4b37c380e5906c1418f46a/c6d2c/cpu-cluster.png 1260w,
/static/bfd996542b4b37c380e5906c1418f46a/8e846/cpu-cluster.png 1500w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>At one million messages per second, average CPU utilisation was at 80%. The node that received the data-input and forwarded it to both the message bus and its connected clients was predictably under higher load with occasional spikes towards the higher 90% range. Memory stayed stable below 80MB with garbage collection leading to volatile spikes during cleanup.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/263468c9ebfd023fa272e6d493a370e1/8e846/memory-cluster.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 43.06666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA/UlEQVQoz52P226DMAyG8/4Pt4tN7SaqdmWUtoBCQs5xDsylUobGrvZdJL9/O7ZDUko5Z2U9FZYrzzUwBcNk60F23PaTQ91z03PbMXOhGkMmXTNI4wOZ59lBPN2nqmWv53Hf8JcjfavH3dd4uIn3hlXXad+wjws/3cVnJ6uWo7Nr+KSB4FhsTIXXLhxv4tzLQzvVg2LKKxuwLwppQbmgLAgTRumocNcRByfClWupCcv2+F4YENobH1Oa0cG9MIHi8becQ8zWB+1AGkCfQAhYsqQepYVnWM51tmiyLSrMG4r/vElK+X/8TN72/rXhnxAA/HWAhbBi7RQdYywh6m+r3wwGa03/hAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Memory in a cluster"
        title=""
        src="/static/263468c9ebfd023fa272e6d493a370e1/04a72/memory-cluster.png"
        srcset="/static/263468c9ebfd023fa272e6d493a370e1/6a467/memory-cluster.png 210w,
/static/263468c9ebfd023fa272e6d493a370e1/635b1/memory-cluster.png 420w,
/static/263468c9ebfd023fa272e6d493a370e1/04a72/memory-cluster.png 840w,
/static/263468c9ebfd023fa272e6d493a370e1/c6d2c/memory-cluster.png 1260w,
/static/263468c9ebfd023fa272e6d493a370e1/8e846/memory-cluster.png 1500w"
        sizes="(max-width: 840px) 100vw, 840px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>After running variations of this test for up to an hour we can conclude:</p>
<ul>
<li>A cluster of six nodes caters reliably for  <strong>~four billion messages an hour</strong>.</li>
<li>Clusters scale linearly - larger throughput rates can easily be achieved by adding additional nodes</li>
<li>The costs of running a six-instance cluster for an hour on AWS are 36 cents (6 x t2.medium @ 0.052$/h + 1 x cache.t2.medium @ 0.068$/h)</li>
</ul></div><footer><div><div class="MarkDownContent-module--nextItem--1A6Vp MarkDownContent-module--navToItem--BI1cQ"><a href="/info/performance/overview/">Performance Overview</a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg></div></div></footer></article><div class="SideBar-module--sidebar--2Gu0r"><div class="SideBar-module--hack--21xGm"><div class="SideBar-module--sectionLevel--1M38x"><label>community</label><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"></path></svg></div><div class="SideBar-module--sectionLevel--1M38x"><label>performance</label><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"></path></svg><div class="SideBar-module--leaf--m9Lqk SideBar-module--activeLeaf--_1lf5"><a aria-current="page" class="" href="/info/performance/four-billion-messages-per-hour/">- <!-- -->Four billion messages an hour - benchmarking deepstream throughput</a></div><div class="SideBar-module--leaf--m9Lqk"><a href="/info/performance/overview/">- <!-- -->Performance Overview</a></div><div class="SideBar-module--leaf--m9Lqk"><a href="/info/performance/single-node-vs-cluster/">- <!-- -->Latency tests</a></div></div></div></div></div></div><footer class="layout-footer with-side-bar"><div class="cols"><div class="col col-a"><img src="/images/deepstream-elton-logo-grey.png"/></div><div class="col col-c"><h4>CONTENT</h4><a href="/install/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg><span>Install</span></a><a href="/tutorials/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"></path></svg><span>Tutorials</span></a><a href="/docs/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"></path></svg><span>Documentation</span></a><a href="/blog/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"></path></svg><span>Blog</span></a></div><div class="col col-d"><h4>COMMUNITY</h4><a target="_blank" href="https://twitter.com/deepstreamHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><span>Twitter</span></a><a target="_blank" href="https://github.com/deepstreamIO"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span>GitHub</span></a><a target="_blank" href="https://deepstreamio-slack.herokuapp.com/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"></path></svg><span>Slack</span></a><a target="_blank" href="http://stackoverflow.com/questions/tagged/deepstream.io"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"></path></svg><span>Stack Overflow</span></a></div><div class="col col-b"><h4>COMPANY</h4><ul><li>deepstreamHub GmbH .i.L.</li><li>c/o Office Club</li><li>Pappelallee 78/79</li><li>10437 Berlin</li><li>Germany</li><li>info@deepstreamHub.com</li></ul></div></div><div class="copyright">© <!-- -->2020<!-- --> deepstreamHub GmbH .i.L.</div></footer></div></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-63583386-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-63583386-1', 'deepstream.io', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript">var observer = new MutationObserver(function (mutations, instance) {
  var docuSearchElem = document.querySelector('#algolia-docsearch');
  if (docuSearchElem) {
    docsearch({
      apiKey: "792b342727cbc7164f4ef510b726cfa5",
      indexName: "deepstream",
      inputSelector: "#algolia-docsearch",
      debug: false
    });
    instance.disconnect(); // stop observing
    return;
  }
});

// start observing
document.addEventListener("DOMContentLoaded", function() {
  observer.observe(document, {
    childList: true,
    subtree: true
  });
});</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/info/performance/four-billion-messages-per-hour/";window.webpackCompilationHash="0f3352f8274dbe1392d8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-f3978e038f789d6fea75.js"],"component---src-templates-blog-tsx":["/component---src-templates-blog-tsx-7f784f472480b702135b.js"],"component---src-templates-docs-tsx":["/component---src-templates-docs-tsx-a341295ef24124ef915f.js"],"component---src-templates-guides-tsx":["/component---src-templates-guides-tsx-6dc8a56d4e25d2478fdb.js"],"component---src-templates-info-tsx":["/component---src-templates-info-tsx-e1500ae034a189f7132e.js"],"component---src-templates-tutorials-tsx":["/component---src-templates-tutorials-tsx-21d5ed477cee76c66d0e.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-38401c7933c7ac3871ac.js"],"component---src-pages-blog-index-tsx":["/component---src-pages-blog-index-tsx-d4f7a5d1d2e3ec53ee55.js"],"component---src-pages-docs-index-tsx":["/component---src-pages-docs-index-tsx-ad437c61933613f55121.js"],"component---src-pages-guides-index-tsx":["/component---src-pages-guides-index-tsx-b3bc31a41b7e0094c8ca.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-fc2aba496e39470cfb01.js"],"component---src-pages-tutorials-index-tsx":["/component---src-pages-tutorials-index-tsx-c74eec6860ac62e5cd09.js"]};/*]]>*/</script><script src="/webpack-runtime-f55746dbbab87edfeab7.js" async=""></script><script src="/styles-613472d7ea5c171c4f22.js" async=""></script><script src="/app-f3978e038f789d6fea75.js" async=""></script><script src="/1-368f95ac86d02e227679.js" async=""></script><script src="/component---src-templates-info-tsx-e1500ae034a189f7132e.js" async=""></script></body></html>